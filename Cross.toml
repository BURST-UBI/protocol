# Cross-compilation config for `cross build --target <target>`.
#
# Install: cargo install cross --git https://github.com/cross-rs/cross
# Build:   cross build --release -p burst-daemon --target aarch64-unknown-linux-gnu
#
# The resulting binary will be at:
#   target/aarch64-unknown-linux-gnu/release/burst-daemon

[target.aarch64-unknown-linux-gnu]
image = "ghcr.io/cross-rs/aarch64-unknown-linux-gnu:main"
pre-build = [
    "dpkg --add-architecture $CROSS_DEB_ARCH",
    "apt-get update && apt-get install -y libssl-dev:$CROSS_DEB_ARCH"
]

[target.armv7-unknown-linux-gnueabihf]
image = "ghcr.io/cross-rs/armv7-unknown-linux-gnueabihf:main"
pre-build = [
    "dpkg --add-architecture $CROSS_DEB_ARCH",
    "apt-get update && apt-get install -y libssl-dev:$CROSS_DEB_ARCH"
]
